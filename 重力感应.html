<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script>
		function rnd(n,m){
			return Math.parseInt(Math.random()*(m-n)+n)
		}
		if (window.DeviceMotionEvent) {
			window.addEventListener('devicemotion',function(ev){
				var msg = ev.accelerationIncludingGravity;
				var lastX = msg.x;
				var lastY = msg.y;
				var lastZ = msg.z;
				setTimeout(function(){
					if (Math.abs(msg.x - lastX) > 20 || Math.abs(msg.y - lastY) > 20 ||Math.abs(msg.z - lastZ) > 20) {
						document.getElementById('box').style.background = 'rgba('+rnd(0,255)+','+rnd(0,255)+','+rnd(0,255)+')'
					};
					lastX = msg.x;
					lastY = msg.y;
					lastZ = msg.z;
				},100)
			},false)
		} else{	
			alert('不支持');
		}
	</script>
</head>
<body>
	<div id="box"></div>
</body>
</html>